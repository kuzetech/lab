# Pulsar 连接配置
pulsar:
  serviceUrl: pulsar://localhost:6650
  adminUrl: http://localhost:8080
  topic: persistent://public/default/log-messages
  # 生产者配置
  producer:
    producerName: log-file-producer
    sendTimeoutMs: 30000
    blockIfQueueFull: true
    enableBatching: false
    # 事务配置 - 实现 EOS (Exactly-Once Semantics)
    enableTransaction: true
    transactionTimeoutMs: 60000

# MySQL 连接配置
mysql:
  host: localhost
  port: 3306
  database: pulsar_offset
  username: pulsar_user
  password: pulsar_pass
  # 连接池配置
  maxConnections: 10
  connectionTimeoutMs: 5000

# 文件处理配置
file:
  # 文件路径（可通过命令行参数覆盖）
  path: /tmp/test.log
  # 批处理大小（每个事务处理的行数）
  batchSize: 100
  # 文件读取缓冲区大小
  bufferSize: 8192
  # 文件编码
  encoding: UTF-8

# 重试配置
retry:
  # 最大重试次数
  maxAttempts: 3
  # 重试延迟（毫秒）
  delayMs: 1000
  # 重试延迟倍数
  multiplier: 2.0
  # 最大重试延迟（毫秒）
  maxDelayMs: 10000

# 日志配置
logging:
  # 日志级别: TRACE, DEBUG, INFO, WARN, ERROR
  level: INFO
  # 进度报告间隔（处理的行数）
  progressInterval: 1000
